<div class="page d-flex flex-column">
  <header-bar class="px-3 pt-2 bg-light" [showBackBtn]="true"></header-bar>

  <div *ngIf="survey" class="d-flex flex-column flex-stretch">

    <div class="d-flex flex-column px-3 py-2 border-bottom bg-light flex-fix">
      <div class="d-flex">
        <inline-text-edit class="w-50" [text]="survey.name" [placeholder]="'Enter Survey Title'" [inputClass]="'font-normal font-weight-medium'"
          (textChange)="surveyNameChange($event)"></inline-text-edit>
      </div>

      <div class="d-flex justify-content-between align-items-center">
        <inline-text-edit class="flex-stretch mr-3" [text]="survey.description" [placeholder]="'Enter Survey Description'"
          (textChange)="surveyDescriptionChange($event)"></inline-text-edit>
        <button class="btn btn-primary btn-sm" [class.disabled]="!isChanged" (click)="saveSurvey()"><em class="fa fa-floppy-o mr-2"></em>Save</button>
      </div>
    </div>


    <div class="d-flex flex-stretch">
      <div class="w-25 border-right d-flex flex-column flex-stretch">
        <div class="py-1 px-3 d-flex justify-content-between align-items-center border-bottom flex-fix bg-info">
          <span class="m-0 text-white font-normal font-weight-medium">Sections</span>
          <span class="text-white cursor-pointer" (click)="addNewSection()"><em class="fa fa-plus mr-2 "></em>Add
            Section</span>
        </div>
        <div class="flex-stretch" class="border-bottom overflow-auto">
          <app-section-list [sections]="survey.sections" [currentSectionId]="currentSectionId" (sectionSelect)="selectSection($event)"
            (sectionDelete)="deleteSection($event)" (sectionOrderChange)="changeSectionOrder($event)"></app-section-list>
        </div>
      </div>
      <div class="w-75 flex-stretch d-flex">
        <app-section-editor class="flex-stretch d-flex"></app-section-editor>
      </div>
    </div>

  </div>

</div>